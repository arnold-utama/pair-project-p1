<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagaram</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<style>
    body {
        font-family: 'Poppins', sans-serif;
    }
</style>

<body class="bg-black text-white overflow-hidden">
    <!-- Navbar -->
    <%- include('./_partial/navbar') %>

        <div class="flex mt-16">
            <!-- Sidebar -->
            <%- include('./_partial/sidebar') %>

                <!-- Main Content -->
                <div class="p-5 h-[700px] overflow-y-auto" style="width: 1500px;">
                    <!-- Profile Section -->
                    <div class="max-w-4xl mx-auto" style="margin-top: 50px;">
                        <div class="flex items-center gap-6" style="margin-bottom: 30px; ">
                            <img src="<%= profile.profilePicture %>" alt="Profile Picture"
                                class="w-24 h-24 rounded-full object-cover border-2 border-gray-500">
                            <div>
                                <div class="mt-2"
                                    style="display: flex; justify-content: space-between; align-content: center; width: 750px; ">
                                    <div style="display: flex; flex-direction: column;">
                                        <h1 class="text-xl font-bold">
                                            <%= profile.User.name %>
                                        </h1>
                                        <p>Age: <b>
                                                <%= profile.age %>
                                            </b></p>
                                        <p>Gender: <b>
                                                <%= profile.gender %>
                                            </b></p>
                                    </div>
                                    <div style="display: flex; flex-direction: column; ">
                                        <p class="text-xl font-bold">
                                            <%= postCount===1 ? `${postCount} Post`: `${postCount} Posts` %>
                                        </p>
                                        <div style="color: rgb(204, 204, 204);">
                                            Created At: <b>
                                                <%= formatDate(profile.createdAt) %>
                                            </b>
                                        </div>
                                        <p>Account Status: <b>
                                                <%= profile.isPrivate ? "Private" : "Public" %>
                                            </b></p>
                                    </div>
                                </div>
                                <p class="text-sm mt-2" style="color: rgb(147, 152, 157);">
                                    <%= profile.bio %>
                                </p>
                                <br>
                            </div>
                        </div>
                        <section>
                            <a href="/profile/edit"
                                class="bg-gray-800 text-white px-4 py-1 rounded-md inline-block transition-transform duration-300 hover:scale-[1.3]">Edit
                                Profile</a>
                            <a href="/posts/add"
                                class="bg-gray-800 text-white px-4 py-1 rounded-md inline-block transition-transform duration-300 hover:scale-[1.3]">New
                                Post</a>
                        </section>

                        <!-- Post Grid -->
                        <div class="grid grid-cols-3 gap-1 mt-5">
                            <% profile.User.Posts.forEach(el=> { %>
                                <a href="/posts/<%= el.id %>">
                                    <img src="<%= el.image %>" alt="Post Image"
                                        class="object-cover transition-transform duration-300 hover:scale-[1.3] rounded-lg"
                                        style="height: 400px; width: 290px;">
                                    <% }); %>
                                </a>
                        </div>
                    </div>
                </div>
        </div>
</body>