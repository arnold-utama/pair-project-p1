<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagaram</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-black text-white overflow-hidden">
    <!-- Navbar -->
    <%- include('./_partial/navbar') %>

        <div class="flex mt-16">
            <!-- Sidebar -->
            <%- include('./_partial/sidebar') %>

                <!-- Main Content -->
                <div class="p-5 h-[700px] overflow-y-auto" style="width: 1500px;">
                    <!-- Profile Section -->
                    <div class="max-w-4xl mx-auto" style="margin-top: 50px;">
                        <div class="flex items-center gap-6" style="margin-bottom: 60px;">
                            <img src="<%= profile.profilePicture %>" alt="Profile Picture"
                                class="w-24 h-24 rounded-full object-cover border-2 border-gray-500">
                            <div>
                                <div class="flex items-center gap-4">
                                    <h1 class="text-xl font-bold">
                                        <%= profile.User.name %>
                                    </h1>
                                    <a href="/profile/edit" class="bg-gray-800 text-white px-4 py-1 rounded-md">Edit
                                        Profile</a>
                                    <a href="/posts/add" class="bg-gray-800 text-white px-4 py-1 rounded-md">New
                                        Post</a>
                                </div>
                                <div class="flex gap-5 mt-2">
                                    <p><strong>
                                            <%= postCount %>
                                        </strong> Posts</p>
                                    <p><strong>
                                            <%= profile.gender %>
                                        </strong> Gender</p>
                                    <p><strong>
                                            <%= profile.age %>
                                        </strong> Age</p>
                                    <p><strong>
                                            <%= formatDate(profile.createdAt) %>
                                        </strong> createdAt</p>
                                    <p><strong>
                                            <%= profile.isPrivate ? "Private" : "Public" %>
                                        </strong> account status</p>
                                </div>
                                <p class="text-sm mt-2">
                                    <%= profile.bio %>
                                </p>
                            </div>
                        </div>

                        <!-- Post Grid -->
                        <div class="grid grid-cols-3 gap-1 mt-5">
                            <% profile.User.Posts.forEach(post=> { %>
                                <a href="/posts/<%= post.id %>">
                                    <img src="<%= post.image %>" alt="Post Image"
                                        class="object-cover transition-transform duration-300 hover:scale-[1.3] rounded-lg"
                                        style="height: 400px; width: 290px;">
                                    <% }); %>
                                </a>
                        </div>
                    </div>
                </div>
        </div>
</body>